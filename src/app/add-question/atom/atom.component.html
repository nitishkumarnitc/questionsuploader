<div class="container">
  <div class="row" *ngFor="let atom of atomsArray">

    <div class="col-6">

      <md-radio-group class="example-radio-group ">
        <md-radio-button class="example-radio-button" [value]="isText" [checked]="atom.isText" (change)="atom.isText=true;atom.isEquation=false;atom.isImage=false">
          {{isText}}
        </md-radio-button>
        <md-radio-button class="example-radio-button" [value]="isImage" [checked]="atom.isImage" (change)="atom.isText=false;atom.isEquation=false;atom.isImage=true">
          {{isImage}}
        </md-radio-button>
        <md-radio-button class="example-radio-button" [value]="isEquation" [checked]="atom.isEquation" (change)="atom.isText=false;atom.isEquation=true;atom.isImage=false">
          {{isEquation}}
        </md-radio-button>
      </md-radio-group>
    </div>


    <div class="col-6">
      <textarea *ngIf="atom.isText==true" md-input placeholder="text" [(ngModel)]="atom.text" ></textarea>
      <input  *ngIf="atom.isImage==true" type="file"
              ngFileSelect
              [options]="options"
              (onUpload)="handleUpload($event)"
              (beforeUpload)="beforeUpload($event)">


      <div ngFileDrop
           [options]="options"
           (onUpload)="handleUpload($event)"
           [ngClass]="{'file-over': hasBaseDropZoneOver}"
           (onFileOver)="fileOverBase($event)"
           (beforeUpload)="beforeUpload($event)">
      </div>

      <div>
        Response: {{ atom.text | json }}
      </div>
    </div>

  </div>

  <div class="row" *ngIf="doneWithThisPortion==false">

    <div class="col">

      <md-radio-group class="example-radio-group ">
        <md-radio-button class="example-radio-button" [checked]="atom.isText" [value]="isText" (change)="atom.isText=true;atom.isEquation=false;atom.isImage=false">
          {{isText}}
        </md-radio-button>
        <md-radio-button class="example-radio-button" [checked]="atom.isImage" [value]="isImage"  (change)="atom.isText=false;atom.isEquation=false;atom.isImage=true">
          {{isImage}}
        </md-radio-button>
        <md-radio-button class="example-radio-button" [checked]="atom.isEquation" [value]="isEquation"  (change)="atom.isText=false;atom.isEquation=true;atom.isImage=false">
          {{isEquation}}
        </md-radio-button>
      </md-radio-group>
    </div>

    <div class="col">
      <textarea *ngIf="atom.isImage==false" md-input placeholder="text" [(ngModel)]="atom.text" ></textarea>
      <input  *ngIf="atom.isImage==true" type="file"
              ngFileSelect
              [options]="options"
              (onUpload)="handleUpload($event)"
              (beforeUpload)="beforeUpload($event)">


      <div ngFileDrop
           [options]="options"
           (onUpload)="handleUpload($event)"
           [ngClass]="{'file-over': hasBaseDropZoneOver}"
           (onFileOver)="fileOverBase($event)"
           (beforeUpload)="beforeUpload($event)">
      </div>

      <div *ngIf="atom.isImage!=false">
        Response: {{ uploadFile | json }}
      </div>

    </div>

    <div class="col">

      <button md-fab (click)="onClickPlus()">
        <md-icon class="md-24">add</md-icon>
      </button>

      <button md-raised-button color="warn" (click)="onClickOk()" ><md-icon>done</md-icon></button>
    </div>

  </div>
</div>
